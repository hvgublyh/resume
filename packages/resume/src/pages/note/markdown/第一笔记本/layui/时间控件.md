---
title: 时间控件
updated: 2020-05-08T15:56:50
created: 2020-02-18T15:20:44
---

1.  **时间控件初始化**
\$.each(\$(".dateType"), function (i, dom) {
laydate.render({
elem: dom,
type: 'date',
trigger: 'click',
done: function(value, date, endDate){
changeDate(dom)
}
});
});
1.  **时间控件选择回调**
done: function(value, date, endDate){

changeDate(dom)

}

注意: done不能替换为change,function不能更换为其他的回调函数
1.  时间联动
var startDate = laydate.render({

elem: "#id-"+filter.id+"-start-time",

type: "date",

done:function (value, date) {

if( value !== '' ){

endDate.config.min.year = date.year;

endDate.config.min.month = date.month - 1;

var day = date.date;

if(date.hours == 23 && date.minutes == 59 && date.seconds == 59){

day = day + 1;

}else{

endDate.config.min.hours = date.hours;

endDate.config.min.minutes = date.minutes;

endDate.config.min.seconds = date.seconds;

}

endDate.config.min.date = day;

endDate.config.btns = \['clear','confirm'\];

}else{

endDate.config.min.year = '';

endDate.config.min.month = '';

endDate.config.min.date = '';

endDate.config.min.hours = '';

endDate.config.min.minutes = '';

endDate.config.min.seconds = '';

endDate.config.btns = \['clear','now','confirm'\];

}

}

});

var endDate = laydate.render({

elem: "#id-"+filter.id+"-end-time",

type: "date",

done:function (value, date) {

if( value !== '' ){

startDate.config.max.year = date.year;

startDate.config.max.month = date.month - 1;

var day = date.date;

if(date.hours == 0 && date.minutes == 0 && date.seconds == 0){

day = day - 1;

}else{

startDate.config.max.hours = date.hours;

startDate.config.max.minutes = date.minutes;

startDate.config.max.seconds = date.seconds;

}

startDate.config.max.date = day;

startDate.config.btns = \['clear','confirm'\];

}else{

startDate.config.max.year = '3000';

startDate.config.max.month = '1';

startDate.config.max.date = '1';

startDate.config.max.hours = '23';

startDate.config.max.minutes = '59';

startDate.config.max.seconds = '59';

startDate.config.btns = \['clear','now','confirm'\];

}

}

});

