---
title: 动画
updated: 2020-03-18T17:58:27
created: 2019-12-10T09:06:07
---

动画
2019年12月10日
9:06

@keyframes 规定动画.
animation 所有动画属性的简写属性，除了 animation-play-state 属性。
animation-name 规定 @keyframes 动画的名称。
animation-duration 规定动画完成一个周期所花费的秒或毫秒 。默认是 0。
animation-timing-function 规定动画的速度曲线。默认是 "ease"。
animation-delay 规定动画何时开始。默认是 0。
animation-iteration-count 规定动画被播放的次数。默认是 1。
animation-direction 规定动画是否在下一周期逆向地播放。默认是 "normal"。alternate/reverse/alternate-reverse,分别表示交替/反向/反向交替
animation-play-state 规定动画是否正在运行或暂停。默认是 "running"。
animation-fill-mode 规定对象动画时间之外的状态。
**设置了所有的参数**
<table>
<colgroup>
<col style="width: 16%" />
<col style="width: 83%" />
</colgroup>
<tbody>
<tr class="odd">
<td></td>
<td><p>div</p>
<p>{</p>
<p>animation-name: myfirst;</p>
<p>animation-duration: 5s;</p>
<p>animation-timing-function: linear;</p>
<p>animation-delay: 2s;</p>
<p>animation-iteration-count: infinite;</p>
<p>animation-direction: alternate;</p>
<p>animation-play-state: running;</p>
<p>}</p></td>
</tr>
</tbody>
</table>

例子:
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p>1</p>
<p>2</p>
<p>3</p>
<p>4</p>
<p>5</p>
<p>6</p>
<p>7</p>
<p>8</p>
<p>9</p>
<p>10</p>
<p>11</p>
<p>12</p>
<p>13</p>
<p>14</p>
<p>15</p>
<p>16</p>
<p>17</p>
<p>18</p>
<p>19</p>
<p>20</p>
<p>21</p>
<p>22</p>
<p>23</p>
<p>24</p>
<p>25</p>
<p>26</p>
<p>27</p>
<p>28</p>
<p>29</p>
<p>30</p>
<p>31</p>
<p>32</p>
<p>33</p>
<p>34</p>
<p>35</p>
<p>36</p>
<p>37</p>
<p>38</p>
<p>39</p>
<p>40</p>
<p>41</p>
<p>42</p></td>
<td><p>div</p>
<p>{</p>
<p>width:100px;</p>
<p>height:100px;</p>
<p>background:red;</p>
<p>animation:myfirst 5s;</p>
<p>-moz-animation:myfirst 5s; /* Firefox */</p>
<p>-webkit-animation:myfirst 5s; /* Safari and Chrome */</p>
<p>-o-animation:myfirst 5s; /* Opera */</p>
<p>}</p>
<p></p>
<p>@keyframes myfirst</p>
<p>{</p>
<p>0% {background:red;}</p>
<p>25% {background:yellow;}</p>
<p>50% {background:blue;}</p>
<p>100% {background:green;}</p>
<p>}</p>
<p></p>
<p>@-moz-keyframes myfirst /* Firefox */</p>
<p>{</p>
<p>0% {background:red;}</p>
<p>25% {background:yellow;}</p>
<p>50% {background:blue;}</p>
<p>100% {background:green;}</p>
<p>}</p>
<p></p>
<p>@-webkit-keyframes myfirst /* Safari and Chrome */</p>
<p>{</p>
<p>0% {background:red;}</p>
<p>25% {background:yellow;}</p>
<p>50% {background:blue;}</p>
<p>100% {background:green;}</p>
<p>}</p>
<p></p>
<p>@-o-keyframes myfirst /* Opera */</p>
<p>{</p>
<p>0% {background:red;}</p>
<p>25% {background:yellow;}</p>
<p>50% {background:blue;}</p>
<p>100% {background:green;}</p>
<p>}</p></td>
</tr>
</tbody>
</table>
**实现卡片滚入效果 :**
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p>1</p>
<p>2</p>
<p>3</p>
<p>4</p>
<p>5</p>
<p>6</p>
<p>7</p></td>
<td><p>.transition{</p>
<p>animation: scroll-in 3s alternate;</p>
<p>}</p>
<p>@keyframes scroll-in {</p>
<p>0% {transform: translate(0,1000px) rotate(0deg)}</p>
<p>100% {transform: translate(0) rotate(360deg)}</p>
<p>}</p></td>
</tr>
</tbody>
</table>

**跑马灯:**
**JS插入style实现:**

const list = 'document.getElementById("marquee")';

const marquee = document.getElementById("marquee");

const clientWidth = marquee.clientWidth;

marquee.innerHTML = list;

const length = list.length\*2;

const keyframe = '@keyframes marquee {' +

'0% {left:-' + length\*4 +'px}'+

'70% {left:' + clientWidth +'px}' +

'100% {left:' + clientWidth +'px}';

const style = document.createElement('style');

style.innerHTML = keyframe;

marquee.appendChild(style);

marquee.style.animation = list.length/5 + 's marquee linear infinite';

**JS实现:**

const content = document.getElementById('marquee');

content.innerText = 'marquee.style.animation = marquee.style.animation = limarquee.style.animation = limarquee.style.animation = lilist.lenth/5 + \\s marquee linear infinite\\th/5 + \\s marquee linear infinite\\gth/5 + \\s marquee linear infinite\\;';

window.onload = function () {

const boxWidth = content.clientWidth;

let textWidth = content.innerText.length \* window.getComputedStyle(content).fontSize.split('px')\[0\];

console.log(content.innerText);

console.log(textWidth);

console.log(boxWidth);

content.innerHTML += content.innerHTML;

// 更新

if (boxWidth \< textWidth) {

// 开始滚动 触发事件

toScrollLeft();

}

};

//实现跑马灯效果

function toScrollLeft(content,totalWidth) {

\$(content).html(\$(content).innerHTML+\$(content).innerHTML);

setInterval(function () {

content.scrollLeft++;

// 如果文字长度大于滚动条距离，则递归拖动

if (totalWidth \<= content.scrollLeft) {

content.scrollLeft-=totalWidth;

}

},18);

}

**实现菜单动画效果:**
**HTML:**

\<ul id="menu1" style="display: block;margin: auto;height: 50px;width: fit-content"\>

\<li class="menu"\>

\<ul\>

\<li class="title"\>title\</li\>

\<li class="list"\>list\</li\>

\<li class="list"\>list\</li\>

\<li class="list"\>list\</li\>

\</ul\>

\</li\>

\<li class="menu"\>

\<ul\>

\<li class="title"\>title\</li\>

\<li class="list"\>list\</li\>

\<li class="list"\>list\</li\>

\<li class="list"\>list\</li\>

\</ul\>

\</li\>

\<li class="menu"\>

\<ul\>

\<li class="title"\>title\</li\>

\<li class="list"\>list\</li\>

\<li class="list"\>list\</li\>

\<li class="list"\>list\</li\>

\</ul\>

\</li\>

\</ul\>

\<ul id="menu2" style="display: block;margin: 20px auto;height:50px;width: fit-content"\>

\<li class="menu"\>

\<ul\>

\<li class="title"\>title\</li\>

\<li class="list"\>list\</li\>

\<li class="list"\>list\</li\>

\<li class="list"\>list\</li\>

\</ul\>

\</li\>

\<li class="menu"\>

\<ul\>

\<li class="title"\>title\</li\>

\<li class="list"\>list\</li\>

\<li class="list"\>list\</li\>

\<li class="list"\>list\</li\>

\</ul\>

\</li\>

\<li class="menu"\>

\<ul\>

\<li class="title"\>title\</li\>

\<li class="list"\>list\</li\>

\<li class="list"\>list\</li\>

\<li class="list"\>list\</li\>

\</ul\>

\</li\>

\</ul\>

**CSS:**

@keyframes move-in-1 {

0% {

transform: translate(100%);

opacity: 0;

}

100% {

transform: translate(0);

opacity: 1;

}

}

@keyframes move-in-2 {

0% {

transform: translate(-100%);

opacity: 0;

}

100% {

transform: translate(0);

opacity: 1;

}

}

ul {

padding: 0;

}

li {

position: relative;

height: 30px;

width: 120px;

line-height: 30px;

color: \#fff;

text-align: center;

list-style: none;

background-color: \#1E9FFF;

cursor: pointer;

}

li:before {

content: "";

position: absolute;

top: 0;

left: 0;

width: 100%;

height: 2px;

background-color: \#fff;

}

.menu {

background-color: \#fff;

position: relative;

float: left;

margin: 5px;

}

.menu:hover :nth-child(1n).list {

display: block;

animation: move-in-1 .3s;

}

.menu:hover :nth-child(2n).list {

display: block;

animation: move-in-2 .3s;

}

.list {

position: relative;

display: none;

z-index: 10;

}

/\*第二个menu\*/

@keyframes fade-in {

0% {

opacity: 0;

}

50%{

opacity: 0.7;

}

100% {

opacity: 1;

}

}

\#menu2 .menu:hover .list{

display: block;

animation: fade-in .3s ease-in-out;

}

